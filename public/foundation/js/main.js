function post_request(i, e, n = null, a = 1) { let t; return layui.jquery.ajax({ type: "POST", async: !1, dataType: "json", contentType: "application/json; charset=utf-8", url: i, data: JSON.stringify(e), beforeSend: function () { animateThis(n) }, error: function (i) { unanimateThis(n) }, success: function (i) { 1 == i.code ? (success(i.msg), 1 == a && setTimeout(function () { parent.layer.close(parent.layer.getFrameIndex(window.name)) }, SUCCESS)) : fail(i.msg), t = i, unanimateThis(n) } }), t } function success(i) { layer.msg(i, { icon: 6 }) } function fail(i) { layer.msg(i, { icon: 5 }) } function animateThis(i) { null != i && i.insertAdjacentHTML("afterbegin", '<i class="admin-loading layui-icon layui-icon-loading-1 layui-anim layui-anim-rotate layui-anim-loop"></i>') } function unanimateThis(i) { null != i && setTimeout(function () { i.querySelector(".admin-loading").remove() }, 1500) } function iframe_open(i) { path = null == i.data ? i.url : i.url + "?" + i.data, window.screen.width < 769 && (i.size = ["100%", "100%"]), layer.open({ content: path, anim: -1, type: 2, resize: 2, area: null == i.size ? ["700px", "700px"] : i.size, title: i.title, maxmin: !0, shadeClose: !0, isOutAnim: !0 }) } layui.use(["jquery"], function () { layui.jquery }), layui.use(["jquery", "util", "admin", "theme"], function () { var e = layui.util, n = layui.jquery, a = layui.admin, t = layui.theme; let o = n(".admin_panel"); function l() { var i = sessionStorage.getItem("isShrink"); n(window).width() < 970 ? (o.addClass("mobile"), o.removeClass("pc"), a.Shrink()) : (o.addClass("pc"), o.removeClass("mobile"), 1 == i ? a.Shrink() : a.Unshrink()) } function u() { 1 == localStorage.getItem("themeScheme") ? (n("#themeScheme").html('<i class="icofont-sun"></i>'), t.Day()) : (n("#themeScheme").html('<i class="icofont-moon"></i>'), t.Night()) } l(), u(), n(window).resize(function () { l() }), e.event("lay-event", { menuShrink: function () { a.Toggle() }, leftPage: function () { a.scrollTab("left", 450) }, rightPage: function () { a.scrollTab("right", 450) }, bigMask: function () { a.Shrink() }, delOneTab: function () { a.deleteCurrentTab() }, delAllTab: function () { a.deleteCurrentAllTab() }, setTheme: function () { t.setTheme(this) }, themeScheme: function () { 1 == localStorage.getItem("themeScheme") ? (n("#themeScheme").html('<i class="icofont-moon"></i>'), t.Night()) : (n("#themeScheme").html('<i class="icofont-sun"></i>'), t.Day()) }, themeChoose: function () { var i = this.getAttribute("color-id"); localStorage.setItem("themeColors", i), u(), n(this).siblings().removeClass("layui-icon layui-icon-ok"), n(this).addClass("layui-icon layui-icon-ok") }, refreshThis: function () { (i = n(this).find("i")).addClass("layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"), a.refreshCurrentTab(), setTimeout(function () { i.removeClass("layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop") }, 500) }, layLoad: function () { (i = n(this).find("i")).addClass("layui-anim layui-anim-rotate layui-anim-loop"), a.refreshCurrentTab(), setTimeout(function () { i.removeClass("layui-anim layui-anim-rotate layui-anim-loop") }, 1e3) } }) });